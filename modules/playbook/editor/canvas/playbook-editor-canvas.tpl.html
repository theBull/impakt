

<div ng-controller='playbook.editor.canvas.ctrl' 
	class='playbook-editor-canvas-container col'>

	<!-- <div class='col  pad'
		ng-show='!hasOpenTabs'>
		<div class='center'>
			<div class='height6 textCenter'>
				<div class='marginBottom1'>
					Open a file to begin editing.
				</div>
				<h4 class='actionable' ng-click='toBrowser()'>
					<span class='glyphicon glyphicon-folder-open'></span>
					Browse files...
				</h4>
			</div>
		</div>
	</div> -->
	
	<div class='col positionRelative'>

		<div class='row gray-bg-4'>

			<!-- tools -->
			<div class='shrink'>
				<ng-include class='col shrink'
					ng-attr-src='templates.tools'>
				</ng-include>
			</div>

			<div class='col positionRelative'>

				<div class='row dark-border gray-bg-4 shadow overflowVisible {{editorModeClass}} playbook-editor-info-container positionAbsolute zIndexTop shrinkY'>

					<!-- ng-class='{"height3": !isOpponentBarVisible(canvas.scenario.editorType), 
					"height6": isOpponentBarVisible(canvas.scenario.editorType)}' -->

						<div class='col overflowVisible'>
							<table class='overflowVisible width100Percent'>
							<thead>
								<tr class='fontSize8'>
									<th>Play</th>
									<th>Unit</th>
									<th>Formation</th>
									<th>Personnel</th>
									<th>Assignments</th>
								</tr>
							</thead>
							<tbody>

								<tr class='playbook-editor-play-info overflowVisible'
									ng-show='isOpponentBarVisible(canvas.scenario.editorType)'>

									<td>
										<div class='pad05'>
											<strong>{{canvas.scenario.playOpponent.name}}</strong>
										</div>
									</td>
									<td>
										<!-- Unit type -->
										<!-- <div class='pointer positionRelative'
											ng-init='unitTypeDropdownVisible = false'>
											<div class='row'
												ng-click='unitTypeDropdownVisible = !unitTypeDropdownVisible'>
												<div class='marginRight1'>
													<type-formatter
														value='canvas.scenario.playOpponent.unitType'
														type='Team.Enums.UnitTypes'>
													</type-formatter>
													
												</div>
												<div class='glyphicon glyphicon-chevron-down'>
												</div>
											</div>
											<div class='col minWidth20 dropdown heightAuto'
												ng-show='unitTypeDropdownVisible'>
												<ul>
													<li ng-repeat='unitType in unitTypes.toArray()'
														class=' pointer gray-bg-4-hover'
														ng-click='applyUnitType(unitType)'>
														<type-formatter
															value='unitType.unitType'
															type='Team.Enums.UnitTypes'>
														</type-formatter>
													</li>
												</ul>
											</div>
										</div> -->
										<div class='pad05'>
											<type-formatter
												value='canvas.scenario.playOpponent.unitType'
												type='Team.Enums.UnitTypes'>
											</type-formatter>
										</div>
									</td>
									<td>
										<!-- Formation dropdown -->
										<popout
											collapsed='true'
											direction='down'
											label='canvas.scenario.playOpponent.formation.name'
											url='common/ui/formation-select-dropdown/formation-select-dropdown.tpl.html'
											item-select='applyFormation(formation)'
											class='pad05 gray-bg-4-hover'>
										</popout>
									</td>
									<td>
										<!-- Personnel dropdown -->
										<popout
											collapsed='true'
											direction='down'
											label='canvas.scenario.playOpponent.personnel.name'
											url='common/ui/personnel-select-dropdown/personnel-select-dropdown.tpl.html'
											item-select='applyPersonnel(personnel)'
											class='pad05 gray-bg-4-hover'>
										</popout>
									</td>
									<td>
										<!-- Assignments dropdown -->
										<popout
											collapsed='true'
											direction='down'
											label='canvas.scenario.playOpponent.assignmentGroup.name'
											url='common/ui/assignment-group-select-dropdown/assignment-group-select-dropdown.tpl.html'
											item-select='applyAssignmentGroup(assignmentGroup)'
											class='pad05 gray-bg-4-hover'>
										</popout>
									</td>
								</tr>

								<tr class='playbook-editor-play-info overflowVisible'>
									<td>
										<div class='pad05'>
											<strong>{{canvas.scenario.playPrimary.name}}</strong>
										</div>
									</td>
									<td>
										<!-- Unit type -->
										<!-- <div class='pointer positionRelative'
											ng-init='unitTypeDropdownVisible = false'>
											<div class='row'
												ng-click='unitTypeDropdownVisible = !unitTypeDropdownVisible'>
												<div class='marginRight1'> 
													<type-formatter
														value='canvas.scenario.playPrimary.unitType'
														type='Team.Enums.UnitTypes'>
													</type-formatter>
													
												</div>
												<div class='glyphicon glyphicon-chevron-down'>
												</div>
											</div>
											<div class='col minWidth20 dropdown heightAuto'
												ng-show='unitTypeDropdownVisible'>
												<ul>
													<li ng-repeat='unitType in unitTypes.toArray()'
														class=' pointer gray-bg-4-hover'
														ng-click='applyUnitType(unitType)'>
														<type-formatter
															value='unitType.unitType'
															type='Team.Enums.UnitTypes'>
														</type-formatter>
													</li>
												</ul>
											</div>
										</div> -->

										<div class='pad05'>
											<type-formatter
												value='canvas.scenario.playPrimary.unitType'
												type='Team.Enums.UnitTypes'>
											</type-formatter>
										</div>
									</td>
									<td>
										<!-- Formation dropdown -->
										<popout
											collapsed='true'
											direction='down'
											label='canvas.scenario.playPrimary.formation.name'
											url='common/ui/formation-select-dropdown/formation-select-dropdown.tpl.html'
											item-select='applyFormation(formation)'
											class='pad05 gray-bg-4-hover'>
										</popout>
									</td>
									<td>
										<!-- Personnel dropdown -->
										<popout
											collapsed='true'
											direction='down'
											label='canvas.scenario.playPrimary.personnel.name'
											url='common/ui/personnel-select-dropdown/personnel-select-dropdown.tpl.html'
											item-select='applyPersonnel(personnel)'
											class='pad05 gray-bg-4-hover'>
										</popout>
									</td>
									<td>
										<!-- Assignments dropdown -->
										<popout
											collapsed='true'
											direction='down'
											label='canvas.scenario.playPrimary.assignmentGroup.name'
											url='common/ui/assignment-group-select-dropdown/assignment-group-select-dropdown.tpl.html'
											item-select='applyAssignmentGroup(assignmentGroup)'
											class='pad05 gray-bg-4-hover'>
										</popout>
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div class='col pointer width6 minHeight3 gray-bg-2-hover textCenter' ng-click='flipScenario()'>
						<div class='center'>
							<div class='height3 width6 pad'>
								Flip
							</div>
						</div>
					</div>
				</div>

				<playbook-editor-canvas class='row scrollY scrollX playbook-editor-canvas'>
				</playbook-editor-canvas> <!-- scrollable -->

				<!-- canvas info -->
				<ng-include class='height3'
					ng-attr-src='templates.mode'>
				</ng-include>
			</div>			

		</div>
	
	</div>

</div>